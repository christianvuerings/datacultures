<div ng-controller="GalleryItemController">
  <div class="dc-full-header">
    <a href="/gallery" class="dc-full-back-link">&#8592; Back to Gallery</a>
  </div>

  <div class="dc-full-container">
    <div ng-if="currentItem.type === 'image'">
      <img class="dc-full-image" ng-src="{{currentItem.image_url}}">
    </div>
    <div ng-if="currentItem.type === 'video'" class="dc-videowrapper">
      <iframe ng-src="{{currentItem.videoUrl}}" width="500" height="375" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>

  <div class="dc-comments" ng-controller="GalleryCommentController">
    <h2>Comments ({{currentItem.comments.length}})</h2>

    <ul class="dc-comments-list" ng-if="currentItem.comments.length">
      <li ng-repeat="comment in currentItem.comments">
        <div class="dc-comments-list-comment" ng-bind-html="comment.comment | multiLineFilter"></div>
        <div class="dc-comments-list-author">by {{comment.author.name}}</div>
      </li>
    </ul>

    <form ng-submit="addComment()" name="dc_comments_form">
      <textarea ng-model="comment.input" required placeholder="Enter your comment..."></textarea>
      <div>
        <button type="submit" class="btn btn-info" ng-disabled="dc_comments_form.$invalid">Submit</button>
      </div>
    </form>
  </div>
</div>
